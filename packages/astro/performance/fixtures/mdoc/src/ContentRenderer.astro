---
import { Title, Aside, LikeButton, HydratedLikeButton } from '@performance/utils';
import type { CollectionEntry } from 'astro:content';

type Props = {
	entry: CollectionEntry<'generated'>;
}

const { entry }  = Astro.props as Props;
const { Content } = await entry.render();
---

{entry.data.type === 'with-astro-components'
	? <Content config={{
		tags: {
			aside: {
				render: 'Aside',
				attributes: {
					type: { type: String },
					title: { type: String },
				},
			}
		}
	}} components={{ h1: Title, Aside }} />
	: entry.data.type === 'with-react-components'
	? <Content config={{
		tags: {
			'like-button': {
				render: 'LikeButton',
				attributes: {
					liked: { type: Boolean },
				},
			},
			'hydrated-like-button': {
				render: 'HydratedLikeButton',
				attributes: {
					liked: { type: Boolean },
				},
			},
		}
	}} components={{ LikeButton, HydratedLikeButton }} />
	: <Content />
}
